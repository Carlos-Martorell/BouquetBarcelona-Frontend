<section>
  <header class="mb-6">
    <h1 class="text-3xl font-bold text-primary">Calendario de Pedidos</h1>
    <p class="text-text/70">Gestiona las entregas programadas</p>
  </header>

  <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
    
    <!-- CALENDARIO (ocupa 2 columnas en desktop) -->
    <div class="lg:col-span-2 bg-white border border-border rounded-lg p-4 shadow-sm">
      <full-calendar [options]="calendarOptions" />
    </div>

    <!-- PANEL DE DETALLES -->
    <div class="bg-white border border-border rounded-lg p-4 shadow-sm">
      <h3 class="text-3xl font-semibold text-primary mb-4">Detalles del Pedido</h3>
      
      @if (selectedEvent()) {
        <div class="space-y-3">
          <div>
            <p class="text-sm text-text/70">Pedido</p>
            <p class="font-semibold text-text">{{ selectedEvent().title }}</p>
          </div>
          
          <div>
            <p class="text-sm text-text/70">Hora de entrega</p>
            <p class="font-semibold text-text">
              {{ selectedEvent().start | date:'HH:mm' }} - {{ selectedEvent().end | date:'HH:mm' }}
            </p>
          </div>
          
          <div>
            <p class="text-sm text-text/70">Dirección</p>
            <p class="font-semibold text-text">{{ selectedEvent().address }}</p>
          </div>
          
          <div>
            <p class="text-sm text-text/70">Total</p>
            <p class="font-semibold text-text text-xl">{{ selectedEvent().total }}€</p>
          </div>
          
          <div>
            <p class="text-sm text-text/70">Estado</p>
            <span 
              class="inline-block px-3 py-1 rounded-full text-sm font-medium"
              [class.bg-success]="selectedEvent().status === 'confirmed'"
              [class.text-white]="selectedEvent().status === 'confirmed'"
              [class.bg-secondary]="selectedEvent().status === 'pending'"
              [class.text-text]="selectedEvent().status === 'pending'">
              {{ selectedEvent().status === 'confirmed' ? 'Confirmado' : 'Pendiente' }}
            </span>
          </div>

          <div class="pt-4 border-t border-border">
            <button class="w-full bg-primary text-white py-2 rounded-lg hover:bg-primary/90 transition-all">
              Ver en Mapa
            </button>
          </div>
        </div>
      } @else {
        <p class="text-text/50 text-center py-8">
          Haz clic en un pedido para ver los detalles
        </p>
      }
    </div>
  </div>
</section>